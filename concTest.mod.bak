:*******************************
:     Concentration ion test    /
:*******************************

: Mod file to test the change of the concentration of an ion inside the neuron enviroment

NEURON {
  SUFFIX conc
  USEION ca READ cai WRITE cao
  RANGE camKII, calmodulin
}

PARAMETER {
   :Fantasy parameters to test the conditions
  k1 = 3
  k2 = 5
  k3 = 70
  k4 = 14
}

ASSIGNED {
   camKII : Conc of CamKII
   calmodulin : Conc of the Calmodulin
   ampa_r : number of AMPAr
}
STATE { CamKII Calm }

INITIAL {
   camKII = 100
   calm = 1000
   SOLVE scheme STEADYSTATE sparse
}

KINETIC reaction {
   ~ calmodulin + 4ca <-> calmodulin_active(k1,k2)
   calmodulin_active + camKII <-> camKII_active(k3,k4)
}

BREAKPOINT {
  SOLVE reaction METHOD sparse
  ampa_r =  1 + log(camKII)
}

